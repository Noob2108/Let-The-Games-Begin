:root{
  --bg-deep:#0c0310;
  --bg-deeper:#130718;
  --magenta:#b30059;
  --pink:#ff4d94;
  --hot:#ff2fb0;
  --purple:#4b0082;
  --gold:#ffd700;
  --text:#f6e9ff;
  --muted:#bda9c9;
  --shadow: 0 10px 30px rgba(255,47,176,.25), 0 8px 18px rgba(75,0,130,.35);
}

/* Embedded HUD background (SVG data URI) */
body{
  margin:0;
  color:var(--text);
  font-family: system-ui, "Segoe UI", Roboto, Inter, Arial, sans-serif;
  background:
    radial-gradient(1200px 800px at 50% 20%, rgba(255,77,148,.12), transparent 60%),
    radial-gradient(900px 700px at 80% 80%, rgba(179,0,89,.15), transparent 60%),
    #0c0310;
  background-image:
    url("data:image/svg+xml;utf8, \
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 900'> \
  <defs> \
    <linearGradient id='g1' x1='0' y1='0' x2='1' y2='1'> \
      <stop offset='0%' stop-color='%23b30059'/> \
      <stop offset='60%' stop-color='%23ff4d94'/> \
      <stop offset='100%' stop-color='%234b0082'/> \
    </linearGradient> \
  </defs> \
  <rect width='1200' height='900' fill='%230c0310'/> \
  <g opacity='0.12'> \
    <rect x='-5' y='-5' width='1210' height='910' fill='none' stroke='%23ff4d94' stroke-width='1'/> \
    <g stroke='%23ff4d94' stroke-width='0.5'> \
      <path d='M0 450 H1200'/> \
      <path d='M600 0 V900'/> \
    </g> \
    <g stroke='url(%23g1)' stroke-width='1.5' fill='none'> \
      <circle cx='600' cy='450' r='320'/> \
      <circle cx='600' cy='450' r='210'/> \
      <circle cx='600' cy='450' r='120'/> \
    </g> \
    <g stroke='%23ffd700' stroke-width='2' opacity='0.35'> \
      <circle cx='600' cy='450' r='6'/> \
    </g> \
  </g> \
</svg>");
  background-repeat:no-repeat;
  background-size:cover;
  min-height:100vh;
}

/* Layout wrappers */
.hud-wrap{
  max-width: 940px;
  margin: 0 auto;
  padding: 32px 16px 80px;
}

.hud-header, .hud-footer{
  display:flex; align-items:center; justify-content:center;
  position:relative;
}

.title{
  margin:0 0 18px;
  font-weight:800;
  letter-spacing:.02em;
  text-transform:uppercase;
  font-size: clamp(28px, 5vw, 44px);
  background-image: linear-gradient(180deg, var(--gold), #f7c16a 35%, #ff9ad5 75%, var(--pink));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  text-shadow: 0 0 18px rgba(255,77,148,.6), 0 0 40px rgba(179,0,89,.55);
}

/* Cards / panels */
.card{
  background: linear-gradient(180deg, rgba(19,7,24,.7), rgba(12,3,16,.6));
  border-radius: 22px;
  border: 1px solid rgba(255,77,148,.35);
  box-shadow: var(--shadow);
  backdrop-filter: blur(6px);
  margin: 14px 0;
}
.card-body{ padding: 20px; }
.card-title{ margin:0 0 10px; font-size: 20px; font-weight:700; color:#ffe6fb; }
.card-subtitle{ margin:16px 0 8px; color:var(--muted); font-weight:600; }

/* Inputs */
.input{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,77,148,.35);
  background: rgba(17,8,24,.6);
  color:var(--text);
  outline:none;
  box-shadow: inset 0 0 0 1px rgba(75,0,130,.2);
}
.input:focus{
  box-shadow: 0 0 0 2px rgba(255,77,148,.5), inset 0 0 0 1px rgba(255,77,148,.5);
}

.grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width:680px){ .grid{ grid-template-columns:1fr; } }
.stack{ display:flex; flex-direction:column; gap:6px; }
.label{ font-size:12px; color:var(--muted); }

.toggles{ display:grid; grid-template-columns:1fr 1fr; gap:8px 16px; margin:8px 0 18px; }
.toggle{ font-size:14px; color:#f2d6ff; }

/* Buttons */
.btn{
  border:none; cursor:pointer; font-weight:800; letter-spacing:.06em; text-transform:uppercase;
  padding:12px 18px; border-radius: 999px; transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
.btn-primary{
  background: radial-gradient(120% 150% at 30% 20%, var(--pink), var(--magenta) 60%, var(--purple) 120%);
  color:white; box-shadow: 0 6px 20px rgba(255,47,176,.35), inset 0 0 24px rgba(255,215,0,.15);
  border:1px solid rgba(255,77,148,.55);
}
.btn-primary:hover{ filter: brightness(1.1); box-shadow: 0 8px 28px rgba(255,47,176,.45); }
.btn-primary.big{ width:100%; padding:14px 22px; font-size:16px; }

.btn-accent{
  background: radial-gradient(100% 140% at 70% 30%, var(--gold), #ffb8f0 40%, var(--pink) 80%);
  color:#260b22; border:1px solid rgba(255,215,0,.55);
  box-shadow: 0 6px 20px rgba(255,215,0,.28), inset 0 0 20px rgba(255,77,148,.15);
}
.btn:active{ transform: translateY(1px) scale(.995); }

/* Back button */
.back-btn{
  position:absolute; top:12px; left:12px; z-index:2;
  width:40px; height:40px; border-radius:999px; border:1px solid rgba(255,77,148,.45);
  background: radial-gradient(120% 150% at 30% 20%, var(--pink), var(--magenta));
  color:#fff; font-weight:900; box-shadow: var(--shadow);
}

/* Task text */
.task-text{
  font-size: clamp(16px, 2.8vw, 22px);
  line-height:1.5;
  color:#ffe6fb;
  text-shadow: 0 0 12px rgba(255,77,148,.25);
  margin: 8px 0 18px;
}

/* Decorative rings */
.ring,.ring2{
  position:fixed; inset:auto; left:50%; bottom:20px; transform: translateX(-50%);
  width:180px; height:180px; border-radius:50%;
  border:2px solid rgba(255,77,148,.22);
  box-shadow: 0 0 40px rgba(255,47,176,.15) inset, 0 0 60px rgba(75,0,130,.25) inset;
  pointer-events:none; opacity:.5;
}
.ring2{ width:240px; height:240px; bottom: -20px; opacity:.35; }
.pulse{ animation: pulse 4s ease-in-out infinite; }
@keyframes pulse{
  0%,100%{ box-shadow: 0 0 40px rgba(255,47,176,.15) inset, 0 0 60px rgba(75,0,130,.25) inset; }
  50%{ box-shadow: 0 0 70px rgba(255,47,176,.35) inset, 0 0 90px rgba(75,0,130,.45) inset; }
}
/* DICE â€” HUD-styled components */
.row-top{display:flex;align-items:center;justify-content:space-between;gap:8px}
.row-controls{display:flex;gap:8px;flex-wrap:wrap}

.hidden{display:none !important}

.dice-wrap{
  display:flex;gap:14px;align-items:center;justify-content:flex-start;margin:10px 0 12px;
}
.die{
  width:72px;height:72px;background: rgba(17,8,24,.65);
  border-radius:14px;border:1px solid rgba(255,77,148,.25);
  position:relative; box-shadow: inset 0 0 30px rgba(255,77,148,.10), 0 6px 24px rgba(75,0,130,.25);
}
.pip{width:12px;height:12px;background:#fff;border-radius:50%;position:absolute;opacity:.95}
.roll-anim{animation: roll 1.6s ease-in-out}
@keyframes roll{
  0%{transform:translateY(0) rotate(0deg)}
  20%{transform:translateY(-18px) rotate(90deg)}
  40%{transform:translateY(0) rotate(180deg)}
  60%{transform:translateY(-10px) rotate(270deg)}
  100%{transform:translateY(0) rotate(360deg)}
}

.result .big{ margin-top:4px; font-size: clamp(16px, 2.6vw, 20px); color:#ffe6fb }
.editor-shell{ margin-top:12px }
.editor{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
.editor .cell{background:rgba(17,8,24,.55);border:1px solid rgba(255,77,148,.22);border-radius:12px;padding:10px}
.editor textarea{
  width:100%;min-height:96px;padding:10px;border-radius:10px;border:1px solid rgba(255,77,148,.25);
  background:rgba(12,3,16,.5); color:#f6e9ff; outline:none;
}

.kama-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.kama-img{
  width:180px;height:140px;border-radius:12px;border:1px solid rgba(255,77,148,.22);
  object-fit:cover;background:#0e1220
}
